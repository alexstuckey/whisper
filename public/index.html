<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Whisper</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<script src="/js/jquery.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
</head>
<body>
	<div class="container">
		<h1 class="muted">Whisper</h1>
		<hr>
		<script>
		  var socket = io.connect(window.location.origin);

		  socket.on('down', function (data) {
		    console.log('Message received: ' + data);
		    $('#msgLog > tbody:last').append('<tr><td>' + data + '</td></tr>');
		  });

		  function SendMessage(contents){
		  	socket.emit('up', contents);
		  	console.log('Sent message!');
		  };
		</script>
		<table class="table table-bordered" id="msgLog">
			<thead>
				<th>Message</th>
			</thead>
			<tbody>
			</tbody>
		</table>
		<button onclick="SendMessage('Hey there');">Send message</button>
	</div>
</body>
</html>